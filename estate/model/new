<template id="student_report_template">
    <t t-call="web.html_container">
        <t t-foreach="docs" t-as="doc">
            <div class="page">
                <!-- Header Section for Single Student -->
                <t t-if="len(docs) == 1">
                    <h2 style="text-align: center;">
                        <t t-esc="doc.name"/>
                    </h2>
                </t>

                <!-- Table Section -->
                <table class="table table-bordered" style="width: 100%; margin-top: 20px;">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Email</th>
                            <th>Phone</th>
                            <th>Address</th>
                            <!-- Add more headers as necessary -->
                        </tr>
                    </thead>
                    <tbody>
                        <t t-foreach="docs" t-as="student">
                            <tr>
                                <td><t t-esc="student.name"/></td>
                                <td><t t-esc="student.email"/></td>
                                <td><t t-esc="student.phone"/></td>
                                <td><t t-esc="student.address"/></td>
                                <!-- Add more details as necessary -->
                            </tr>
                        </t>
                    </tbody>
                </table>
            </div>
        </t>
    </t>
</template>

  ..<template id="student_room_report_template">
    <t t-call="web.html_container">
        <!-- Check if Rooms are selected -->
        <t t-if="rooms">
            <t t-foreach="rooms" t-as="room">
                <div class="page">
                    <!-- Room Heading -->
                    <h2 style="text-align: center;">
                        <t t-esc="room.name"/>
                    </h2>

                    <!-- Room Details Table -->
                    <table class="table table-bordered" style="width: 100%; margin-top: 20px;">
                        <thead>
                            <tr>
                                <th>Room Name</th>
                                <th>Capacity</th>
                                <th>Other Room Details</th>
                                <!-- Add more headers as necessary -->
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><t t-esc="room.name"/></td>
                                <td><t t-esc="room.capacity"/></td>
                                <td><t t-esc="room.other_details"/></td>
                                <!-- Add more details as necessary -->
                            </tr>
                        </tbody>
                    </table>

                    <!-- Check if Room has Students -->
                    <t t-if="room.students">
                        <h3 style="text-align: center; margin-top: 40px;">Students in <t t-esc="room.name"/></h3>
                        <table class="table table-bordered" style="width: 100%; margin-top: 20px;">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Email</th>
                                    <th>Phone</th>
                                    <th>Address</th>
                                    <!-- Add more headers as necessary -->
                                </tr>
                            </thead>
                            <tbody>
                                <t t-foreach="room.students" t-as="student">
                                    <tr>
                                        <td><t t-esc="student.name"/></td>
                                        <td><t t-esc="student.email"/></td>
                                        <td><t t-esc="student.phone"/></td>
                                        <td><t t-esc="student.address"/></td>
                                        <!-- Add more details as necessary -->
                                    </tr>
                                </t>
                            </tbody>
                        </table>
                    </t>
                </div>
            </t>
        </t>

        <!-- If Only Students are Selected -->
        <t t-if="students and not rooms">
            <t t-foreach="students" t-as="student">
                <div class="page">
                    <!-- Single Student Heading -->
                    <t t-if="len(students) == 1">
                        <h2 style="text-align: center;">
                            <t t-esc="student.name"/>
                        </h2>
                    </t>

                    <!-- Multiple Students or Single Student Details -->
                    <h3 t-if="len(students) > 1" style="text-align: center;">Selected Students</h3>
                    <table class="table table-bordered" style="width: 100%; margin-top: 20px;">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Email</th>
                                <th>Phone</th>
                                <th>Address</th>
                                <!-- Add more headers as necessary -->
                            </tr>
                        </thead>
                        <tbody>
                            <t t-foreach="students" t-as="student">
                                <tr>
                                    <td><t t-esc="student.name"/></td>
                                    <td><t t-esc="student.email"/></td>
                                    <td><t t-esc="student.phone"/></td>
                                    <td><t t-esc="student.address"/></td>
                                    <!-- Add more details as necessary -->
                                </tr>
                            </t>
                        </tbody>
                    </table>
                </div>
            </t>
        </t>
    </t>
</template>
....

<report
    id="action_student_room_report"
    model="your.model"
    string="Student and Room Report"
    report_type="qweb-pdf"
    name="your_module.student_room_report_template"
    file="your_module.student_room_report_template"
    print_report_name="'Student and Room Report'"
/>
...
from odoo import models

class ReportStudentRoom(models.AbstractModel):
    _name = 'report.your_module.student_room_report_template'

    def get_report_values(self, docids, data=None):
        model = self.env.context.get('active_model')
        docs = self.env[model].browse(docids)

        students = docs.filtered(lambda d: d._name == 'your.student.model')
        rooms = docs.filtered(lambda d: d._name == 'your.room.model')

        return {
            'doc_ids': docids,
            'doc_model': model,
            'docs': docs,
            'students': students,
            'rooms': rooms,
        }

...............
<template id="student_room_report_template">    <t t-call="web.html_container">        <!-- Check if Rooms are selected -->        <t t-if="rooms">            <t t-foreach="rooms" t-as="room">                <div class="page">                    <!-- Room Heading -->                    <h2 style="text-align: center;">                        <t t-esc="room.name"/>                    </h2>                                        <!-- Room Details Table -->                    <t t-if="room.name or room.capacity or room.other_details">                        <table class="table table-bordered" style="width: 100%; margin-top: 20px;">                            <thead>                                <tr>                                    <th>Room Name</th>                                    <th>Capacity</th>                                    <th>Other Room Details</th>                                    <!-- Add more headers as necessary -->                                </tr>                            </thead>                            <tbody>                                <tr>                                    <td><t t-esc="room.name"/></td>                                    <td><t t-esc="room.capacity"/></td>                                    <td><t t-esc="room.other_details"/></td>                                    <!-- Add more details as necessary -->                                </tr>                            </tbody>                        </table>                    </t>
                    <!-- Check if Room has Students -->                    <t t-if="room.students">                        <h3 style="text-align: center; margin-top: 40px;">Students in <t t-esc="room.name"/></h3>                        <table t-if="room.students" class="table table-bordered" style="width: 100%; margin-top: 20px;">                            <thead>                                <tr>                                    <th>Name</th>                                    <th>Email</th>                                    <th>Phone</th>                                    <th>Address</th>                                    <!-- Add more headers as necessary -->                                </tr>                            </thead>                            <tbody>                                <t t-foreach="room.students" t-as="student">                                    <tr>                                        <td><t t-esc="student.name"/></td>                                        <td><t t-esc="student.email"/></td>                                        <td><t t-esc="student.phone"/></td>                                        <td><t t-esc="student.address"/></td>                                        <!-- Add more details as necessary -->                                    </tr>                                </t>                            </tbody>                        </table>                    </t>                </div>            </t>        </t>
        <!-- If Only Students are Selected -->        <t t-if="students and not rooms">            <t t-foreach="students" t-as="student">                <div class="page">                    <!-- Single Student Heading -->                    <t t-if="len(students) == 1">                        <h2 style="text-align: center;">                            <t t-esc="student.name"/>                        </h2>                    </t>                                        <!-- Multiple Students or Single Student Details -->                    <h3 t-if="len(students) > 1" style="text-align: center;">Selected Students</h3>                    <t t-if="student.name or student.email or student.phone or student.address">                        <table class="table table-bordered" style="width: 100%; margin-top: 20px;">                            <thead>                                <tr>                                    <th>Name</th>                                    <th>Email</th>                                    <th>Phone</th>                                    <th>Address</th>                                    <!-- Add more headers as necessary -->                                </tr>                            </thead>                            <tbody>                                <t t-foreach="students" t-as="student">                                    <tr>                                        <td><t t-esc="student.name"/></td>                                        <td><t t-esc="student.email"/></td>                                        <td><t t-esc="student.phone"/></td>                                        <td><t t-esc="student.address"/></td>                                        <!-- Add more details as necessary -->                                    </tr>                                </t>                            </tbody>                        </table>                    </t>                </div>            </t>        </t>                <!-- No Data Available -->        <t t-if="not students and not rooms">            <div class="page">                <h3 style="text-align: center;">No Data Available</h3>            </div>        </t>    </t></template>